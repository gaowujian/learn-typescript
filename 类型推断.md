# 类型推论

## 基础

在没有明确指出类型的地方，推论帮助提供类型,默认是从值推断出类型

let x = 3 推断出 x 是 number

## 最佳通用类型类型

```
let zoo = [new Rhino(), new Elephant(), new Snake()];
我们想要去使用通用类型 Animal 但是没有办法使用，需要显式
去指定
let zoo:Animal[] = [new Rhino(), new Elephant(), new Snake()];
否则的话是默认是 联合类型
let zoo: (Rhino ｜ Elephant | Snake)[];
```

## 上下文归类

类型推论的顺序一般是根据值，推断出变量的类型。不过也可以反向，被成为上下文归类

上下文归类会发生在表达式的类型与所处的位置相关时

```
window.onmousedown = function(mouseEvent) {
   console.log(mouseEvent.button);   //<- OK
   console.log(mouseEvent.kangaroo); //<- Error!
};
根据左侧的onmousedown可以推断出右边的函数 mouseEvent是有button属性的
通过给参数类型赋值，可以覆盖掉上下文归类推断出来的类型
window.onmousedown = function(mouseEvent: any) {
    console.log(mouseEvent.kangaroo); //<- Error!
};
```
